<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Thirtyfour is a Selenium / WebDriver library for Rust, for automated website UI testing."><title>thirtyfour - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-46132b98.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="thirtyfour" data-themes="" data-resource-suffix="" data-rustdoc-version="1.85.0 (4d91de4e4 2025-02-17)" data-channel="1.85.0" data-search-js="search-75f5ac3e.js" data-settings-js="settings-0f613d39.js" ><script src="../static.files/storage-59e33391.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../thirtyfour/index.html">thirtyfour</a><span class="version">0.31.0</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section id="rustdoc-toc"><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#features" title="Features">Features</a></li><li><a href="#feature-flags" title="Feature Flags">Feature Flags</a></li><li><a href="#example" title="Example">Example</a><ul><li><a href="#the-browser-will-not-close-automatically" title="The browser will not close automatically">The browser will not close automatically</a></li><li><a href="#advanced-element-queries-and-explicit-waits" title="Advanced element queries and explicit waits">Advanced element queries and explicit waits</a></li><li><a href="#components" title="Components">Components</a></li><li><a href="#see-also" title="See Also">See Also</a></li></ul></li></ul><h3><a href="#reexports">Crate Items</a></h3><ul class="block"><li><a href="#reexports" title="Re-exports">Re-exports</a></li><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#macros" title="Macros">Macros</a></li><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#types" title="Type Aliases">Type Aliases</a></li></ul></section><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Crate <span>thirtyfour</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/thirtyfour/lib.rs.html#1-204">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Thirtyfour is a Selenium / WebDriver library for Rust, for automated website UI testing.</p>
<p>It supports the full W3C WebDriver spec.
Tested with Chrome and Firefox although any W3C-compatible WebDriver
should work.</p>
<h3 id="features"><a class="doc-anchor" href="#features">§</a>Features</h3>
<ul>
<li>All W3C WebDriver and WebElement methods supported</li>
<li>Async / await support (tokio only)</li>
<li>Create new browser session directly via WebDriver (e.g. chromedriver)</li>
<li>Create new browser session via Selenium Standalone or Grid</li>
<li>Find elements (via all common selectors e.g. Id, Class, CSS, Tag, XPath)</li>
<li>Send keys to elements, including key-combinations</li>
<li>Execute Javascript</li>
<li>Action Chains</li>
<li>Get and set cookies</li>
<li>Switch to frame/window/element/alert</li>
<li>Shadow DOM support</li>
<li>Alert support</li>
<li>Capture / Save screenshot of browser or individual element as PNG</li>
<li>Some Chrome DevTools Protocol (CDP) support</li>
<li>Advanced query interface including explicit waits and various predicates</li>
<li>Component Wrappers (similar to <code>Page Object Model</code>)</li>
</ul>
<h3 id="feature-flags"><a class="doc-anchor" href="#feature-flags">§</a>Feature Flags</h3>
<ul>
<li><code>rusttls-tls</code>: (Default) Use rusttls to provide TLS support (via fantoccini/hyper).</li>
<li><code>native-tls</code>: Use native TLS (via fantoccini/hyper).</li>
<li><code>component</code>: (Default) Enable the <code>Component</code> derive macro (via thirtyfour-macros).</li>
</ul>
<h3 id="example"><a class="doc-anchor" href="#example">§</a>Example</h3>
<p>The following example assumes you have chromedriver running locally, and
a compatible version of Chrome installed.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>thirtyfour::prelude::<span class="kw-2">*</span>;

<span class="attr">#[tokio::main]
</span><span class="kw">async fn </span>main() -&gt; WebDriverResult&lt;()&gt; {
    <span class="kw">let </span>caps = DesiredCapabilities::chrome();
    <span class="kw">let </span>driver = WebDriver::new(<span class="string">"http://localhost:9515"</span>, caps).<span class="kw">await</span><span class="question-mark">?</span>;

    <span class="comment">// Navigate to https://wikipedia.org.
    </span>driver.goto(<span class="string">"https://wikipedia.org"</span>).<span class="kw">await</span><span class="question-mark">?</span>;
    <span class="kw">let </span>elem_form = driver.find(By::Id(<span class="string">"search-form"</span>)).<span class="kw">await</span><span class="question-mark">?</span>;

    <span class="comment">// Find element from element.
    </span><span class="kw">let </span>elem_text = elem_form.find(By::Id(<span class="string">"searchInput"</span>)).<span class="kw">await</span><span class="question-mark">?</span>;

    <span class="comment">// Type in the search terms.
    </span>elem_text.send_keys(<span class="string">"selenium"</span>).<span class="kw">await</span><span class="question-mark">?</span>;

    <span class="comment">// Click the search button.
    </span><span class="kw">let </span>elem_button = elem_form.find(By::Css(<span class="string">"button[type='submit']"</span>)).<span class="kw">await</span><span class="question-mark">?</span>;
    elem_button.click().<span class="kw">await</span><span class="question-mark">?</span>;

    <span class="comment">// Look for header to implicitly wait for the page to load.
    </span>driver.find(By::ClassName(<span class="string">"firstHeading"</span>)).<span class="kw">await</span><span class="question-mark">?</span>;
    <span class="macro">assert_eq!</span>(driver.title().<span class="kw">await</span><span class="question-mark">?</span>, <span class="string">"Selenium - Wikipedia"</span>);

    <span class="comment">// Always explicitly close the browser.
    </span>driver.quit().<span class="kw">await</span><span class="question-mark">?</span>;

    <span class="prelude-val">Ok</span>(())
}</code></pre></div>
<h4 id="the-browser-will-not-close-automatically"><a class="doc-anchor" href="#the-browser-will-not-close-automatically">§</a>The browser will not close automatically</h4>
<p>Rust does not have <a href="https://boats.gitlab.io/blog/post/poll-drop/">async destructors</a>,
which means there is no reliable way to execute an async HTTP request on Drop and wait for
it to complete. This means you are in charge of closing the browser at the end of your code,
via a call to <a href="struct.WebDriver.html#method.quit" title="method thirtyfour::WebDriver::quit"><code>WebDriver::quit</code></a> as in the above example.</p>
<p>If you do not call <a href="struct.WebDriver.html#method.quit" title="method thirtyfour::WebDriver::quit"><code>WebDriver::quit</code></a> then the browser will stay open until it is
either explicitly closed later outside your code, or the session times out.</p>
<h4 id="advanced-element-queries-and-explicit-waits"><a class="doc-anchor" href="#advanced-element-queries-and-explicit-waits">§</a>Advanced element queries and explicit waits</h4>
<p>You can use <a href="extensions/query/trait.ElementQueryable.html#tymethod.query" title="method thirtyfour::extensions::query::ElementQueryable::query"><code>WebDriver::query</code></a> to perform more advanced queries
including polling and filtering. Custom filter functions are also supported.</p>
<p>Also the <a href="extensions/query/trait.ElementWaitable.html#tymethod.wait_until" title="method thirtyfour::extensions::query::ElementWaitable::wait_until"><code>WebElement::wait_until</code></a> method provides additional support for explicit waits
using a variety of built-in predicates. You can also provide your own custom predicate if
desired.</p>
<p>See the <a href="extensions/query/index.html" title="mod thirtyfour::extensions::query"><code>query</code></a> documentation for more details and examples.</p>
<h4 id="components"><a class="doc-anchor" href="#components">§</a>Components</h4>
<p>Components allow you to wrap a web component using smart element resolvers that can
automatically re-query stale elements, and much more.</p>

<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="attr">#[derive(Debug, Clone, Component)]
</span><span class="kw">pub struct </span>CheckboxComponent {
    base: WebElement,
    <span class="attr">#[by(tag = <span class="string">"label"</span>, first)]
    </span>label: ElementResolver&lt;WebElement&gt;,
    <span class="attr">#[by(css = <span class="string">"input[type='checkbox']"</span>)]
    </span>input: ElementResolver&lt;WebElement&gt;,
}

<span class="kw">impl </span>CheckBoxComponent {
    <span class="kw">pub async fn </span>label_text(<span class="kw-2">&amp;</span><span class="self">self</span>) -&gt; WebDriverResult&lt;String&gt; {
        <span class="kw">let </span>elem = <span class="self">self</span>.label.resolve().<span class="kw">await</span><span class="question-mark">?</span>;
        elem.text().<span class="kw">await
    </span>}

    <span class="kw">pub async fn </span>is_ticked(<span class="kw-2">&amp;</span><span class="self">self</span>) -&gt; WebDriverResult&lt;bool&gt; {
        <span class="kw">let </span>elem = <span class="self">self</span>.input.resolve().<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="kw">let </span>prop = elem.prop(<span class="string">"checked"</span>).<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="prelude-val">Ok</span>(prop.unwrap_or_default() == <span class="string">"true"</span>)
    }

    <span class="kw">pub async fn </span>tick(<span class="kw-2">&amp;</span><span class="self">self</span>) -&gt; WebDriverResult&lt;()&gt; {
        <span class="kw">if </span>!<span class="self">self</span>.is_ticked().<span class="kw">await</span><span class="question-mark">? </span>{
            <span class="kw">let </span>elem = <span class="self">self</span>.input.resolve().<span class="kw">await</span><span class="question-mark">?</span>;
            elem.click().<span class="kw">await</span><span class="question-mark">?</span>;
            <span class="macro">assert!</span>(<span class="self">self</span>.is_ticked().<span class="kw">await</span><span class="question-mark">?</span>);
        }
        <span class="prelude-val">Ok</span>(())
    }
}</code></pre></div>
<p>See the <a href="components/index.html" title="mod thirtyfour::components"><code>components</code></a> documentation for more details.</p>
<h4 id="see-also"><a class="doc-anchor" href="#see-also">§</a>See Also</h4>
<p>This crate uses <a href="../fantoccini/index.html" title="mod fantoccini"><code>fantoccini</code></a> to communicate with the underlying <code>WebDriver</code>
server, and provides high-level features to extend the capabilities of
<code>fantoccini</code>. If you want a more lightweight solution and don’t need the
extra features that <code>thirtyfour</code> provides, consider using <code>fantoccini</code>
directly.</p>
</div></details><h2 id="reexports" class="section-header">Re-exports<a href="#reexports" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><code>pub extern crate <a class="mod" href="../fantoccini/index.html" title="mod fantoccini">fantoccini</a>;</code></div></li><li><div class="item-name"><code>pub extern crate <a class="mod" href="../stringmatch/index.html" title="mod stringmatch">stringmatch</a>;</code></div></li><li><div class="item-name" id="reexport.Alert"><code>pub use alert::<a class="struct" href="alert/struct.Alert.html" title="struct thirtyfour::alert::Alert">Alert</a>;</code></div></li><li><div class="item-name" id="reexport.ChromeCapabilities"><code>pub use common::capabilities::chrome::<a class="struct" href="common/capabilities/chrome/struct.ChromeCapabilities.html" title="struct thirtyfour::common::capabilities::chrome::ChromeCapabilities">ChromeCapabilities</a>;</code></div></li><li><div class="item-name" id="reexport.EdgeCapabilities"><code>pub use common::capabilities::edge::<a class="struct" href="common/capabilities/edge/struct.EdgeCapabilities.html" title="struct thirtyfour::common::capabilities::edge::EdgeCapabilities">EdgeCapabilities</a>;</code></div></li><li><div class="item-name" id="reexport.FirefoxCapabilities"><code>pub use common::capabilities::firefox::<a class="struct" href="common/capabilities/firefox/struct.FirefoxCapabilities.html" title="struct thirtyfour::common::capabilities::firefox::FirefoxCapabilities">FirefoxCapabilities</a>;</code></div></li><li><div class="item-name" id="reexport.InternetExplorerCapabilities"><code>pub use common::capabilities::ie::<a class="struct" href="common/capabilities/ie/struct.InternetExplorerCapabilities.html" title="struct thirtyfour::common::capabilities::ie::InternetExplorerCapabilities">InternetExplorerCapabilities</a>;</code></div></li><li><div class="item-name" id="reexport.OperaCapabilities"><code>pub use common::capabilities::opera::<a class="struct" href="common/capabilities/opera/struct.OperaCapabilities.html" title="struct thirtyfour::common::capabilities::opera::OperaCapabilities">OperaCapabilities</a>;</code></div></li><li><div class="item-name" id="reexport.SafariCapabilities"><code>pub use common::capabilities::safari::<a class="struct" href="common/capabilities/safari/struct.SafariCapabilities.html" title="struct thirtyfour::common::capabilities::safari::SafariCapabilities">SafariCapabilities</a>;</code></div></li><li><div class="item-name" id="reexport.By"><code>pub use common::command::<a class="struct" href="common/command/struct.By.html" title="struct thirtyfour::common::command::By">By</a>;</code></div></li><li><div class="item-name" id="reexport.cookie"><code>pub use <a class="mod" href="../cookie/index.html" title="mod cookie">cookie</a>;</code></div></li><li><div class="item-name"><code>pub use common::capabilities::<a class="mod" href="common/capabilities/desiredcapabilities/index.html" title="mod thirtyfour::common::capabilities::desiredcapabilities">desiredcapabilities</a>::*;</code></div></li><li><div class="item-name"><code>pub use common::<a class="mod" href="common/types/index.html" title="mod thirtyfour::common::types">types</a>::*;</code></div></li></ul><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="action_chain/index.html" title="mod thirtyfour::action_chain">action_<wbr>chain</a></div><div class="desc docblock-short">Action chains allow for more complex user interactions with the keyboard and mouse.</div></li><li><div class="item-name"><a class="mod" href="actions/index.html" title="mod thirtyfour::actions">actions</a></div><div class="desc docblock-short">Actions functionality for WebDriver.</div></li><li><div class="item-name"><a class="mod" href="alert/index.html" title="mod thirtyfour::alert">alert</a></div><div class="desc docblock-short">Alert handling.</div></li><li><div class="item-name"><a class="mod" href="common/index.html" title="mod thirtyfour::common">common</a></div><div class="desc docblock-short">Common wrappers used by both async and sync implementations.</div></li><li><div class="item-name"><a class="mod" href="components/index.html" title="mod thirtyfour::components">components</a></div><div class="desc docblock-short">Components and component wrappers.</div></li><li><div class="item-name"><a class="mod" href="error/index.html" title="mod thirtyfour::error">error</a></div><div class="desc docblock-short">Error wrappers.</div></li><li><div class="item-name"><a class="mod" href="extensions/index.html" title="mod thirtyfour::extensions">extensions</a></div><div class="desc docblock-short">Extensions for specific browsers.</div></li><li><div class="item-name"><a class="mod" href="prelude/index.html" title="mod thirtyfour::prelude">prelude</a></div><div class="desc docblock-short">Allow importing the common types via <code>use thirtyfour::prelude::*</code>.</div></li><li><div class="item-name"><a class="mod" href="session/index.html" title="mod thirtyfour::session">session</a></div><div class="desc docblock-short">Everything related to driving the underlying WebDriver session.</div></li><li><div class="item-name"><a class="mod" href="support/index.html" title="mod thirtyfour::support">support</a></div><div class="desc docblock-short">Miscellaneous support functions for <code>thirtyfour</code> tests.</div></li></ul><h2 id="macros" class="section-header">Macros<a href="#macros" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="macro" href="macro.resolve.html" title="macro thirtyfour::resolve">resolve</a></div><div class="desc docblock-short"><code>resolve!(x)</code> expands to <code>x.resolve().await?</code></div></li><li><div class="item-name"><a class="macro" href="macro.resolve_present.html" title="macro thirtyfour::resolve_present">resolve_<wbr>present</a></div><div class="desc docblock-short"><code>resolve_present!(x)</code> expands to <code>x.resolve_present().await?</code></div></li></ul><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.ElementRef.html" title="struct thirtyfour::ElementRef">Element<wbr>Ref</a></div><div class="desc docblock-short">Web element reference.</div></li><li><div class="item-name"><a class="struct" href="struct.Form.html" title="struct thirtyfour::Form">Form</a></div><div class="desc docblock-short">An HTML form on the current page.</div></li><li><div class="item-name"><a class="struct" href="struct.SwitchTo.html" title="struct thirtyfour::SwitchTo">Switch<wbr>To</a></div><div class="desc docblock-short">Struct for switching between frames/windows/alerts.</div></li><li><div class="item-name"><a class="struct" href="struct.TimeoutConfiguration.html" title="struct thirtyfour::TimeoutConfiguration">Timeout<wbr>Configuration</a></div><div class="desc docblock-short">Timeout configuration, for various timeout settings.</div></li><li><div class="item-name"><a class="struct" href="struct.WebDriver.html" title="struct thirtyfour::WebDriver">WebDriver</a></div><div class="desc docblock-short">The <code>WebDriver</code> struct encapsulates an async Selenium WebDriver browser
session.</div></li><li><div class="item-name"><a class="struct" href="struct.WebDriverStatus.html" title="struct thirtyfour::WebDriverStatus">WebDriver<wbr>Status</a></div><div class="desc docblock-short">The WebDriver status as returned by [<code>Client::status()</code>].</div></li><li><div class="item-name"><a class="struct" href="struct.WebElement.html" title="struct thirtyfour::WebElement">WebElement</a></div><div class="desc docblock-short">The WebElement struct encapsulates a single element on a page.</div></li><li><div class="item-name"><a class="struct" href="struct.WindowHandle.html" title="struct thirtyfour::WindowHandle">Window<wbr>Handle</a></div><div class="desc docblock-short">A <a href="https://www.w3.org/TR/webdriver/#dfn-window-handles">handle</a> to a browser window.</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.Key.html" title="enum thirtyfour::Key">Key</a></div><div class="desc docblock-short">Key codes for use with Actions.</div></li></ul><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.Capabilities.html" title="type thirtyfour::Capabilities">Capabilities</a></div><div class="desc docblock-short">Dynamic set of <a href="https://www.w3.org/TR/webdriver/#dfn-capability">WebDriver capabilities</a>.</div></li><li><div class="item-name"><a class="type" href="type.Cookie.html" title="type thirtyfour::Cookie">Cookie</a></div><div class="desc docblock-short">Type alias for a <a href="../cookie/struct.Cookie.html" title="struct cookie::Cookie">cookie::Cookie</a></div></li></ul><script type="text/json" id="notable-traits-data">{"&[u8]":"<h3>Notable traits for <code>&amp;[<a class=\"primitive\" href=\"https://doc.rust-lang.org/1.85.0/std/primitive.u8.html\">u8</a>]</code></h3><pre><code><div class=\"where\">impl <a class=\"trait\" href=\"https://doc.rust-lang.org/1.85.0/std/io/trait.Read.html\" title=\"trait std::io::Read\">Read</a> for &amp;[<a class=\"primitive\" href=\"https://doc.rust-lang.org/1.85.0/std/primitive.u8.html\">u8</a>]</div>"}</script></section></div></main></body></html>