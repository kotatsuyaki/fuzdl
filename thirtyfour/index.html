<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Thirtyfour is a Selenium / WebDriver library for Rust, for automated website UI testing."><meta name="keywords" content="rust, rustlang, rust-lang, thirtyfour"><title>thirtyfour - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" href="../normalize.css"><link rel="stylesheet" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" href="../ayu.css" disabled><link rel="stylesheet" href="../dark.css" disabled><link rel="stylesheet" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script defer src="../crates.js"></script><script defer src="../main.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../thirtyfour/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div></a><h2 class="location"></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../thirtyfour/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div></a><h2 class="location"><a href="#">Crate thirtyfour</a></h2><div class="sidebar-elems"><div class="block"><ul><li class="version">Version 0.31.0</li><li><a id="all-types" href="all.html">All Items</a></li></ul></div><section><div class="block"><ul><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#macros">Macros</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#types">Type Definitions</a></li></ul></div></section></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../thirtyfour/index.html"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><button type="button">?</button></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div></div></form></nav></div><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">thirtyfour</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/thirtyfour/lib.rs.html#1-204">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Thirtyfour is a Selenium / WebDriver library for Rust, for automated website UI testing.</p>
<p>It supports the full W3C WebDriver spec.
Tested with Chrome and Firefox although any W3C-compatible WebDriver
should work.</p>
<h3 id="features"><a href="#features">Features</a></h3>
<ul>
<li>All W3C WebDriver and WebElement methods supported</li>
<li>Async / await support (tokio only)</li>
<li>Create new browser session directly via WebDriver (e.g. chromedriver)</li>
<li>Create new browser session via Selenium Standalone or Grid</li>
<li>Find elements (via all common selectors e.g. Id, Class, CSS, Tag, XPath)</li>
<li>Send keys to elements, including key-combinations</li>
<li>Execute Javascript</li>
<li>Action Chains</li>
<li>Get and set cookies</li>
<li>Switch to frame/window/element/alert</li>
<li>Shadow DOM support</li>
<li>Alert support</li>
<li>Capture / Save screenshot of browser or individual element as PNG</li>
<li>Some Chrome DevTools Protocol (CDP) support</li>
<li>Advanced query interface including explicit waits and various predicates</li>
<li>Component Wrappers (similar to <code>Page Object Model</code>)</li>
</ul>
<h3 id="feature-flags"><a href="#feature-flags">Feature Flags</a></h3>
<ul>
<li><code>rusttls-tls</code>: (Default) Use rusttls to provide TLS support (via fantoccini/hyper).</li>
<li><code>native-tls</code>: Use native TLS (via fantoccini/hyper).</li>
<li><code>component</code>: (Default) Enable the <code>Component</code> derive macro (via thirtyfour-macros).</li>
</ul>
<h3 id="example"><a href="#example">Example</a></h3>
<p>The following example assumes you have chromedriver running locally, and
a compatible version of Chrome installed.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>thirtyfour::prelude::<span class="kw-2">*</span>;

<span class="attribute">#[tokio::main]
</span><span class="kw">async fn </span>main() -&gt; WebDriverResult&lt;()&gt; {
    <span class="kw">let </span>caps = DesiredCapabilities::chrome();
    <span class="kw">let </span>driver = WebDriver::new(<span class="string">&quot;http://localhost:9515&quot;</span>, caps).<span class="kw">await</span><span class="question-mark">?</span>;

    <span class="comment">// Navigate to https://wikipedia.org.
    </span>driver.goto(<span class="string">&quot;https://wikipedia.org&quot;</span>).<span class="kw">await</span><span class="question-mark">?</span>;
    <span class="kw">let </span>elem_form = driver.find(By::Id(<span class="string">&quot;search-form&quot;</span>)).<span class="kw">await</span><span class="question-mark">?</span>;

    <span class="comment">// Find element from element.
    </span><span class="kw">let </span>elem_text = elem_form.find(By::Id(<span class="string">&quot;searchInput&quot;</span>)).<span class="kw">await</span><span class="question-mark">?</span>;

    <span class="comment">// Type in the search terms.
    </span>elem_text.send_keys(<span class="string">&quot;selenium&quot;</span>).<span class="kw">await</span><span class="question-mark">?</span>;

    <span class="comment">// Click the search button.
    </span><span class="kw">let </span>elem_button = elem_form.find(By::Css(<span class="string">&quot;button[type=&#39;submit&#39;]&quot;</span>)).<span class="kw">await</span><span class="question-mark">?</span>;
    elem_button.click().<span class="kw">await</span><span class="question-mark">?</span>;

    <span class="comment">// Look for header to implicitly wait for the page to load.
    </span>driver.find(By::ClassName(<span class="string">&quot;firstHeading&quot;</span>)).<span class="kw">await</span><span class="question-mark">?</span>;
    <span class="macro">assert_eq!</span>(driver.title().<span class="kw">await</span><span class="question-mark">?</span>, <span class="string">&quot;Selenium - Wikipedia&quot;</span>);

    <span class="comment">// Always explicitly close the browser.
    </span>driver.quit().<span class="kw">await</span><span class="question-mark">?</span>;

    <span class="prelude-val">Ok</span>(())
}</code></pre></div>
<h4 id="the-browser-will-not-close-automatically"><a href="#the-browser-will-not-close-automatically">The browser will not close automatically</a></h4>
<p>Rust does not have <a href="https://boats.gitlab.io/blog/post/poll-drop/">async destructors</a>,
which means there is no reliable way to execute an async HTTP request on Drop and wait for
it to complete. This means you are in charge of closing the browser at the end of your code,
via a call to <a href="prelude/struct.WebDriver.html#method.quit" title="WebDriver::quit"><code>WebDriver::quit</code></a> as in the above example.</p>
<p>If you do not call <a href="prelude/struct.WebDriver.html#method.quit" title="WebDriver::quit"><code>WebDriver::quit</code></a> then the browser will stay open until it is
either explicitly closed later outside your code, or the session times out.</p>
<h4 id="advanced-element-queries-and-explicit-waits"><a href="#advanced-element-queries-and-explicit-waits">Advanced element queries and explicit waits</a></h4>
<p>You can use <a href="prelude/trait.ElementQueryable.html#tymethod.query"><code>WebDriver::query</code></a> to perform more advanced queries
including polling and filtering. Custom filter functions are also supported.</p>
<p>Also the <a href="prelude/trait.ElementWaitable.html#tymethod.wait_until"><code>WebElement::wait_until</code></a> method provides additional support for explicit waits
using a variety of built-in predicates. You can also provide your own custom predicate if
desired.</p>
<p>See the <a href="extensions/query/index.html"><code>query</code></a> documentation for more details and examples.</p>
<h4 id="components"><a href="#components">Components</a></h4>
<p>Components allow you to wrap a web component using smart element resolvers that can
automatically re-query stale elements, and much more.</p>

<div class="example-wrap ignore"><div class='tooltip'>ⓘ</div><pre class="rust rust-example-rendered"><code><span class="attribute">#[derive(Debug, Clone, Component)]
</span><span class="kw">pub struct </span>CheckboxComponent {
    base: WebElement,
    <span class="attribute">#[by(tag = <span class="string">&quot;label&quot;</span>, first)]
    </span>label: ElementResolver&lt;WebElement&gt;,
    <span class="attribute">#[by(css = <span class="string">&quot;input[type=&#39;checkbox&#39;]&quot;</span>)]
    </span>input: ElementResolver&lt;WebElement&gt;,
}

<span class="kw">impl </span>CheckBoxComponent {
    <span class="kw">pub async fn </span>label_text(<span class="kw-2">&amp;</span><span class="self">self</span>) -&gt; WebDriverResult&lt;String&gt; {
        <span class="kw">let </span>elem = <span class="self">self</span>.label.resolve().<span class="kw">await</span><span class="question-mark">?</span>;
        elem.text().<span class="kw">await
    </span>}

    <span class="kw">pub async fn </span>is_ticked(<span class="kw-2">&amp;</span><span class="self">self</span>) -&gt; WebDriverResult&lt;bool&gt; {
        <span class="kw">let </span>elem = <span class="self">self</span>.input.resolve().<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="kw">let </span>prop = elem.prop(<span class="string">&quot;checked&quot;</span>).<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="prelude-val">Ok</span>(prop.unwrap_or_default() == <span class="string">&quot;true&quot;</span>)
    }

    <span class="kw">pub async fn </span>tick(<span class="kw-2">&amp;</span><span class="self">self</span>) -&gt; WebDriverResult&lt;()&gt; {
        <span class="kw">if </span>!<span class="self">self</span>.is_ticked().<span class="kw">await</span><span class="question-mark">? </span>{
            <span class="kw">let </span>elem = <span class="self">self</span>.input.resolve().<span class="kw">await</span><span class="question-mark">?</span>;
            elem.click().<span class="kw">await</span><span class="question-mark">?</span>;
            <span class="macro">assert!</span>(<span class="self">self</span>.is_ticked().<span class="kw">await</span><span class="question-mark">?</span>);
        }
        <span class="prelude-val">Ok</span>(())
    }
}</code></pre></div>
<p>See the <a href="components/index.html" title="components"><code>components</code></a> documentation for more details.</p>
<h4 id="see-also"><a href="#see-also">See Also</a></h4>
<p>This crate uses <a href="../fantoccini/index.html" title="fantoccini"><code>fantoccini</code></a> to communicate with the underlying <code>WebDriver</code>
server, and provides high-level features to extend the capabilities of
<code>fantoccini</code>. If you want a more lightweight solution and don’t need the
extra features that <code>thirtyfour</code> provides, consider using <code>fantoccini</code>
directly.</p>
</div></details><h2 id="reexports" class="small-section-header"><a href="#reexports">Re-exports</a></h2><div class="item-table"><div class="item-row"><div class="item-left"><code>pub extern crate <a class="mod" href="../fantoccini/index.html" title="mod fantoccini">fantoccini</a>;</code></div></div><div class="item-row"><div class="item-left"><code>pub extern crate <a class="mod" href="../stringmatch/index.html" title="mod stringmatch">stringmatch</a>;</code></div></div><div class="item-row"><div class="item-left import-item" id="reexport.Alert"><code>pub use alert::<a class="struct" href="alert/struct.Alert.html" title="struct thirtyfour::alert::Alert">Alert</a>;</code></div></div><div class="item-row"><div class="item-left import-item" id="reexport.ChromeCapabilities"><code>pub use common::capabilities::chrome::<a class="struct" href="common/capabilities/chrome/struct.ChromeCapabilities.html" title="struct thirtyfour::common::capabilities::chrome::ChromeCapabilities">ChromeCapabilities</a>;</code></div></div><div class="item-row"><div class="item-left import-item" id="reexport.EdgeCapabilities"><code>pub use common::capabilities::edge::<a class="struct" href="common/capabilities/edge/struct.EdgeCapabilities.html" title="struct thirtyfour::common::capabilities::edge::EdgeCapabilities">EdgeCapabilities</a>;</code></div></div><div class="item-row"><div class="item-left import-item" id="reexport.FirefoxCapabilities"><code>pub use common::capabilities::firefox::<a class="struct" href="common/capabilities/firefox/struct.FirefoxCapabilities.html" title="struct thirtyfour::common::capabilities::firefox::FirefoxCapabilities">FirefoxCapabilities</a>;</code></div></div><div class="item-row"><div class="item-left import-item" id="reexport.InternetExplorerCapabilities"><code>pub use common::capabilities::ie::<a class="struct" href="common/capabilities/ie/struct.InternetExplorerCapabilities.html" title="struct thirtyfour::common::capabilities::ie::InternetExplorerCapabilities">InternetExplorerCapabilities</a>;</code></div></div><div class="item-row"><div class="item-left import-item" id="reexport.OperaCapabilities"><code>pub use common::capabilities::opera::<a class="struct" href="common/capabilities/opera/struct.OperaCapabilities.html" title="struct thirtyfour::common::capabilities::opera::OperaCapabilities">OperaCapabilities</a>;</code></div></div><div class="item-row"><div class="item-left import-item" id="reexport.SafariCapabilities"><code>pub use common::capabilities::safari::<a class="struct" href="common/capabilities/safari/struct.SafariCapabilities.html" title="struct thirtyfour::common::capabilities::safari::SafariCapabilities">SafariCapabilities</a>;</code></div></div><div class="item-row"><div class="item-left import-item" id="reexport.By"><code>pub use common::command::<a class="struct" href="common/command/struct.By.html" title="struct thirtyfour::common::command::By">By</a>;</code></div></div><div class="item-row"><div class="item-left import-item" id="reexport.cookie"><code>pub use <a class="mod" href="../cookie/index.html" title="mod cookie">cookie</a>;</code></div></div><div class="item-row"><div class="item-left import-item"><code>pub use common::capabilities::<a class="mod" href="common/capabilities/desiredcapabilities/index.html" title="mod thirtyfour::common::capabilities::desiredcapabilities">desiredcapabilities</a>::*;</code></div></div><div class="item-row"><div class="item-left import-item"><code>pub use common::<a class="mod" href="common/types/index.html" title="mod thirtyfour::common::types">types</a>::*;</code></div></div></div><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="action_chain/index.html" title="thirtyfour::action_chain mod">action_chain</a></div><div class="item-right docblock-short">Action chains allow for more complex user interactions with the keyboard and mouse.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="actions/index.html" title="thirtyfour::actions mod">actions</a></div><div class="item-right docblock-short">Actions functionality for WebDriver.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="alert/index.html" title="thirtyfour::alert mod">alert</a></div><div class="item-right docblock-short">Alert handling.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="common/index.html" title="thirtyfour::common mod">common</a></div><div class="item-right docblock-short">Common wrappers used by both async and sync implementations.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="components/index.html" title="thirtyfour::components mod">components</a></div><div class="item-right docblock-short">Components and component wrappers.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="error/index.html" title="thirtyfour::error mod">error</a></div><div class="item-right docblock-short">Error wrappers.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="extensions/index.html" title="thirtyfour::extensions mod">extensions</a></div><div class="item-right docblock-short">Extensions for specific browsers.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="prelude/index.html" title="thirtyfour::prelude mod">prelude</a></div><div class="item-right docblock-short">Allow importing the common types via <code>use thirtyfour::prelude::*</code>.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="session/index.html" title="thirtyfour::session mod">session</a></div><div class="item-right docblock-short">Everything related to driving the underlying WebDriver session.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="support/index.html" title="thirtyfour::support mod">support</a></div><div class="item-right docblock-short">Miscellaneous support functions for <code>thirtyfour</code> tests.</div></div></div><h2 id="macros" class="small-section-header"><a href="#macros">Macros</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="macro" href="macro.resolve.html" title="thirtyfour::resolve macro">resolve</a></div><div class="item-right docblock-short"><code>resolve!(x)</code> expands to <code>x.resolve().await?</code></div></div><div class="item-row"><div class="item-left module-item"><a class="macro" href="macro.resolve_present.html" title="thirtyfour::resolve_present macro">resolve_present</a></div><div class="item-right docblock-short"><code>resolve_present!(x)</code> expands to <code>x.resolve_present().await?</code></div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ElementRef.html" title="thirtyfour::ElementRef struct">ElementRef</a></div><div class="item-right docblock-short">Web element reference.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Form.html" title="thirtyfour::Form struct">Form</a></div><div class="item-right docblock-short">An HTML form on the current page.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SwitchTo.html" title="thirtyfour::SwitchTo struct">SwitchTo</a></div><div class="item-right docblock-short">Struct for switching between frames/windows/alerts.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.TimeoutConfiguration.html" title="thirtyfour::TimeoutConfiguration struct">TimeoutConfiguration</a></div><div class="item-right docblock-short">Timeout configuration, for various timeout settings.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.WebDriver.html" title="thirtyfour::WebDriver struct">WebDriver</a></div><div class="item-right docblock-short">The <code>WebDriver</code> struct encapsulates an async Selenium WebDriver browser
session.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.WebDriverStatus.html" title="thirtyfour::WebDriverStatus struct">WebDriverStatus</a></div><div class="item-right docblock-short">The WebDriver status as returned by [<code>Client::status()</code>].</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.WebElement.html" title="thirtyfour::WebElement struct">WebElement</a></div><div class="item-right docblock-short">The WebElement struct encapsulates a single element on a page.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.WindowHandle.html" title="thirtyfour::WindowHandle struct">WindowHandle</a></div><div class="item-right docblock-short">A <a href="https://www.w3.org/TR/webdriver/#dfn-window-handles">handle</a> to a browser window.</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Key.html" title="thirtyfour::Key enum">Key</a></div><div class="item-right docblock-short">Key codes for use with Actions.</div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.Capabilities.html" title="thirtyfour::Capabilities type">Capabilities</a></div><div class="item-right docblock-short">Dynamic set of <a href="https://www.w3.org/TR/webdriver/#dfn-capability">WebDriver capabilities</a>.</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.Cookie.html" title="thirtyfour::Cookie type">Cookie</a></div><div class="item-right docblock-short">Type alias for a <a href="../cookie/struct.Cookie.html" title="cookie::Cookie">cookie::Cookie</a></div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="thirtyfour" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.65.0 (897e37553 2022-11-02)" ></div></body></html>