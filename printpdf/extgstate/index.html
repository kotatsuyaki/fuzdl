<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Extended graphics state, for advanced graphical operation (overprint, black point control, etc.)"><title>printpdf::extgstate - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-5bc39a1768837dd0.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="printpdf" data-themes="" data-resource-suffix="" data-rustdoc-version="1.77.1 (7cf61ebde 2024-03-27)" data-channel="1.77.1" data-search-js="search-dd67cee4cfa65049.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-4c98445ec4002617.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-48f368f3872407c8.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-04d5337699b92874.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../printpdf/index.html">printpdf</a><span class="version">0.5.3</span></h2></div><h2 class="location"><a href="#">Module extgstate</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li></ul></section><h2><a href="../index.html">In crate printpdf</a></h2></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../../printpdf/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">printpdf</a>::<wbr><a class="mod" href="#">extgstate</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/printpdf/extgstate.rs.html#1-1580">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Extended graphics state, for advanced graphical operation (overprint, black point control, etc.)</p>
<p>Some of the operations can be done on the layer directly, but for advanced graphics,
you need to set the graphics state. A PDF has an internal default graphics state,
which can be reset to by setting <code>ExtendedGraphicsState::default()</code> as the active gs
dictionary. Setting a new graphics state overwrites the old one, there is no “undo”.</p>
<p>In order to use a graphics state, it must be added to the Pages resource dicitionary.
This is done by the <code>layer.set_graphics_state()</code> function, which returns a reference with the name of
the newly added dictionary. From inside a stream, the graphics state parameter is invoked
with the “gs” command using the name of the graphics state as a operator.
This is done using the <code>layer.use_graphics_state()</code>.</p>
<p>A full graphics state change is done like this:</p>

<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="kw">let </span><span class="kw-2">mut </span>new_state = ExtendedGraphicsState::default();
new_state.overprint_stroke = <span class="bool-val">true</span>;

<span class="comment">// it is best to put the next lines in a seperate function
// A PdfLayerReferences contains the indices of the page and the layer
// as well as a `std::sync::Weak` reference to the document.
// This is why you need the braces, otherwise, you'll trigger a deadlock
</span>{
    <span class="comment">// supposing mylayer is a PdfLayerReference
    </span><span class="kw">let </span>doc = mylayer.document.upgrade().unwrap();
    <span class="kw">let </span><span class="kw-2">mut </span>doc = doc.lock().unwrap();
    <span class="kw">let </span><span class="kw-2">mut </span>page = doc.pages.get_mut(<span class="self">self</span>.page.<span class="number">0</span>).unwrap();

    <span class="comment">// see the documentation for add_graphics_state
    </span>page.add_graphics_state(new_state);
}</code></pre></div>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.ExtendedGraphicsState.html" title="struct printpdf::extgstate::ExtendedGraphicsState">ExtendedGraphicsState</a></div><div class="desc docblock-short"><code>ExtGState</code> dictionary</div></li><li><div class="item-name"><a class="struct" href="struct.ExtendedGraphicsStateBuilder.html" title="struct printpdf::extgstate::ExtendedGraphicsStateBuilder">ExtendedGraphicsStateBuilder</a></div></li><li><div class="item-name"><a class="struct" href="struct.ExtendedGraphicsStateList.html" title="struct printpdf::extgstate::ExtendedGraphicsStateList">ExtendedGraphicsStateList</a></div><div class="desc docblock-short">List of many <code>ExtendedGraphicsState</code></div></li><li><div class="item-name"><a class="struct" href="struct.ExtendedGraphicsStateRef.html" title="struct printpdf::extgstate::ExtendedGraphicsStateRef">ExtendedGraphicsStateRef</a></div><div class="desc docblock-short">A reference to the graphics state, for reusing the
graphics state during a stream without adding new graphics states all the time</div></li><li><div class="item-name"><a class="struct" href="struct.LineDashPattern.html" title="struct printpdf::extgstate::LineDashPattern">LineDashPattern</a></div><div class="desc docblock-short">Line dash pattern is made up of a total width</div></li><li><div class="item-name"><a class="struct" href="struct.SoftMask.html" title="struct printpdf::extgstate::SoftMask">SoftMask</a></div><div class="desc docblock-short">A soft mask is used for transparent images such as PNG with an alpha component
The bytes range from 0xFF (opaque) to 0x00 (transparent). The alpha channel of a
PNG image have to be sorted out.
Can also be used for Vignettes, etc.
Beware of color spaces!
<strong>See PDF Reference Page 545</strong> - Soft masks</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.BlackGenerationExtraFunction.html" title="enum printpdf::extgstate::BlackGenerationExtraFunction">BlackGenerationExtraFunction</a></div></li><li><div class="item-name"><a class="enum" href="enum.BlackGenerationFunction.html" title="enum printpdf::extgstate::BlackGenerationFunction">BlackGenerationFunction</a></div><div class="desc docblock-short">Black generation calculates the amount of black to be used when trying to
reproduce a particular color.</div></li><li><div class="item-name"><a class="enum" href="enum.BlendMode.html" title="enum printpdf::extgstate::BlendMode">BlendMode</a></div></li><li><div class="item-name"><a class="enum" href="enum.HalftoneType.html" title="enum printpdf::extgstate::HalftoneType">HalftoneType</a></div><div class="desc docblock-short">In PDF 1.2, the graphics state includes a current halftone parameter,
which determines the halftoning process to be used by the painting operators.
It may be defined by either a dictionary or a stream, depending on the
type of halftone; the term halftone dictionary is used generically
throughout this section to refer to either a dictionary object or the
dictionary portion of a stream object. (The halftones that are defined
by streams are specifically identified as such in the descriptions
of particular halftone types; unless otherwise stated, they are
understood to be defined by simple dictionaries instead.)
Deserialized into Integer: 1, 5, 6, 10 or 16</div></li><li><div class="item-name"><a class="enum" href="enum.LineCapStyle.html" title="enum printpdf::extgstate::LineCapStyle">LineCapStyle</a></div><div class="desc docblock-short"><strong>See PDF Reference (Page 216)</strong> - Line cap (ending) style</div></li><li><div class="item-name"><a class="enum" href="enum.LineJoinStyle.html" title="enum printpdf::extgstate::LineJoinStyle">LineJoinStyle</a></div><div class="desc docblock-short"><strong>See PDF Reference Page 216</strong> - Line join style</div></li><li><div class="item-name"><a class="enum" href="enum.NonSeperableBlendMode.html" title="enum printpdf::extgstate::NonSeperableBlendMode">NonSeperableBlendMode</a></div><div class="desc docblock-short">Since the nonseparable blend modes consider all color components in combination, their
computation depends on the blending color space in which the components are interpreted.
They may be applied to all multiple-component color spaces that are allowed as blending
color spaces (see Section 7.2.3, “Blending Color Space”).</div></li><li><div class="item-name"><a class="enum" href="enum.OverprintMode.html" title="enum printpdf::extgstate::OverprintMode">OverprintMode</a></div><div class="desc docblock-short"><strong>(PDF 1.3)</strong> A code specifying whether a color component value of 0
in a <code>DeviceCMYK</code> color space should erase that component (<code>EraseUnderlying</code>) or
leave it unchanged (<code>KeepUnderlying</code>) when overprinting (see Section 4.5.6, “Over-
print Control”). Initial value: <code>EraseUnderlying</code></div></li><li><div class="item-name"><a class="enum" href="enum.RenderingIntent.html" title="enum printpdf::extgstate::RenderingIntent">RenderingIntent</a></div><div class="desc docblock-short">Although CIE-based color specifications are theoretically device-independent,
they are subject to practical limitations in the color reproduction capabilities of
the output device. Such limitations may sometimes require compromises to be
made among various properties of a color specification when rendering colors for
a given device. Specifying a rendering intent (PDF 1.1) allows a PDF file to set priorities
regarding which of these properties to preserve and which to sacrifice.</div></li><li><div class="item-name"><a class="enum" href="enum.SeperableBlendMode.html" title="enum printpdf::extgstate::SeperableBlendMode">SeperableBlendMode</a></div><div class="desc docblock-short">PDF Reference 1.7, Page 520, Table 7.2
Blending modes for objects
In the following reference, each function gets one new color (the thing to paint on top)
and an old color (the color that was already present before the object gets painted)</div></li><li><div class="item-name"><a class="enum" href="enum.SoftMaskFunction.html" title="enum printpdf::extgstate::SoftMaskFunction">SoftMaskFunction</a></div></li><li><div class="item-name"><a class="enum" href="enum.SpotFunction.html" title="enum printpdf::extgstate::SpotFunction">SpotFunction</a></div><div class="desc docblock-short">Spot functions, Table 6.1, Page 489 in Pdf Reference v1.7
The code is pseudo code, returning the grey component at (x, y).</div></li><li><div class="item-name"><a class="enum" href="enum.TransferExtraFunction.html" title="enum printpdf::extgstate::TransferExtraFunction">TransferExtraFunction</a></div></li><li><div class="item-name"><a class="enum" href="enum.TransferFunction.html" title="enum printpdf::extgstate::TransferFunction">TransferFunction</a></div></li><li><div class="item-name"><a class="enum" href="enum.UnderColorRemovalExtraFunction.html" title="enum printpdf::extgstate::UnderColorRemovalExtraFunction">UnderColorRemovalExtraFunction</a></div></li><li><div class="item-name"><a class="enum" href="enum.UnderColorRemovalFunction.html" title="enum printpdf::extgstate::UnderColorRemovalFunction">UnderColorRemovalFunction</a></div><div class="desc docblock-short">See <code>BlackGenerationFunction</code>, too. Undercolor removal reduces the amounts
of the cyan, magenta, and yellow components to compensate for the amount of
black that was added by black generation.</div></li></ul></section></div></main></body></html>