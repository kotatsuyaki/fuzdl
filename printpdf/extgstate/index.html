<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Extended graphics state, for advanced graphical operation (overprint, black point control, etc.)"><meta name="keywords" content="rust, rustlang, rust-lang, extgstate"><title>printpdf::extgstate - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../main.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../printpdf/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../../printpdf/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Module extgstate</a></h2><div class="sidebar-elems"><section><div class="block"><ul><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li></ul></div></section></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../printpdf/index.html"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><div id="settings-menu" tabindex="-1">
                                <a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div>
                        </div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Module <a href="../index.html">printpdf</a>::<wbr><a class="mod" href="#">extgstate</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../src/printpdf/extgstate.rs.html#1-1580">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Extended graphics state, for advanced graphical operation (overprint, black point control, etc.)</p>
<p>Some of the operations can be done on the layer directly, but for advanced graphics,
you need to set the graphics state. A PDF has an internal default graphics state,
which can be reset to by setting <code>ExtendedGraphicsState::default()</code> as the active gs
dictionary. Setting a new graphics state overwrites the old one, there is no “undo”.</p>
<p>In order to use a graphics state, it must be added to the Pages resource dicitionary.
This is done by the <code>layer.set_graphics_state()</code> function, which returns a reference with the name of
the newly added dictionary. From inside a stream, the graphics state parameter is invoked
with the “gs” command using the name of the graphics state as a operator.
This is done using the <code>layer.use_graphics_state()</code>.</p>
<p>A full graphics state change is done like this:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore"><code><span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">new_state</span> <span class="op">=</span> <span class="ident">ExtendedGraphicsState::default</span>();
<span class="ident">new_state</span>.<span class="ident">overprint_stroke</span> <span class="op">=</span> <span class="bool-val">true</span>;

<span class="comment">// it is best to put the next lines in a seperate function</span>
<span class="comment">// A PdfLayerReferences contains the indices of the page and the layer</span>
<span class="comment">// as well as a `std::sync::Weak` reference to the document.</span>
<span class="comment">// This is why you need the braces, otherwise, you&#39;ll trigger a deadlock</span>
{
    <span class="comment">// supposing mylayer is a PdfLayerReference</span>
    <span class="kw">let</span> <span class="ident">doc</span> <span class="op">=</span> <span class="ident">mylayer</span>.<span class="ident">document</span>.<span class="ident">upgrade</span>().<span class="ident">unwrap</span>();
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">doc</span> <span class="op">=</span> <span class="ident">doc</span>.<span class="ident">lock</span>().<span class="ident">unwrap</span>();
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">page</span> <span class="op">=</span> <span class="ident">doc</span>.<span class="ident">pages</span>.<span class="ident">get_mut</span>(<span class="self">self</span>.<span class="ident">page</span>.<span class="number">0</span>).<span class="ident">unwrap</span>();

    <span class="comment">// see the documentation for add_graphics_state</span>
    <span class="ident">page</span>.<span class="ident">add_graphics_state</span>(<span class="ident">new_state</span>);
}</code></pre></div>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ExtendedGraphicsState.html" title="printpdf::extgstate::ExtendedGraphicsState struct">ExtendedGraphicsState</a></div><div class="item-right docblock-short"><p><code>ExtGState</code> dictionary</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ExtendedGraphicsStateBuilder.html" title="printpdf::extgstate::ExtendedGraphicsStateBuilder struct">ExtendedGraphicsStateBuilder</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ExtendedGraphicsStateList.html" title="printpdf::extgstate::ExtendedGraphicsStateList struct">ExtendedGraphicsStateList</a></div><div class="item-right docblock-short"><p>List of many <code>ExtendedGraphicsState</code></p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ExtendedGraphicsStateRef.html" title="printpdf::extgstate::ExtendedGraphicsStateRef struct">ExtendedGraphicsStateRef</a></div><div class="item-right docblock-short"><p>A reference to the graphics state, for reusing the
graphics state during a stream without adding new graphics states all the time</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.LineDashPattern.html" title="printpdf::extgstate::LineDashPattern struct">LineDashPattern</a></div><div class="item-right docblock-short"><p>Line dash pattern is made up of a total width</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SoftMask.html" title="printpdf::extgstate::SoftMask struct">SoftMask</a></div><div class="item-right docblock-short"><p>A soft mask is used for transparent images such as PNG with an alpha component
The bytes range from 0xFF (opaque) to 0x00 (transparent). The alpha channel of a
PNG image have to be sorted out.
Can also be used for Vignettes, etc.
Beware of color spaces!
<strong>See PDF Reference Page 545</strong> - Soft masks</p>
</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.BlackGenerationExtraFunction.html" title="printpdf::extgstate::BlackGenerationExtraFunction enum">BlackGenerationExtraFunction</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.BlackGenerationFunction.html" title="printpdf::extgstate::BlackGenerationFunction enum">BlackGenerationFunction</a></div><div class="item-right docblock-short"><p>Black generation calculates the amount of black to be used when trying to
reproduce a particular color.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.BlendMode.html" title="printpdf::extgstate::BlendMode enum">BlendMode</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.HalftoneType.html" title="printpdf::extgstate::HalftoneType enum">HalftoneType</a></div><div class="item-right docblock-short"><p>In PDF 1.2, the graphics state includes a current halftone parameter,
which determines the halftoning process to be used by the painting operators.
It may be defined by either a dictionary or a stream, depending on the
type of halftone; the term halftone dictionary is used generically
throughout this section to refer to either a dictionary object or the
dictionary portion of a stream object. (The halftones that are defined
by streams are specifically identified as such in the descriptions
of particular halftone types; unless otherwise stated, they are
understood to be defined by simple dictionaries instead.)
Deserialized into Integer: 1, 5, 6, 10 or 16</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.LineCapStyle.html" title="printpdf::extgstate::LineCapStyle enum">LineCapStyle</a></div><div class="item-right docblock-short"><p><strong>See PDF Reference (Page 216)</strong> - Line cap (ending) style</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.LineJoinStyle.html" title="printpdf::extgstate::LineJoinStyle enum">LineJoinStyle</a></div><div class="item-right docblock-short"><p><strong>See PDF Reference Page 216</strong> - Line join style</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.NonSeperableBlendMode.html" title="printpdf::extgstate::NonSeperableBlendMode enum">NonSeperableBlendMode</a></div><div class="item-right docblock-short"><p>Since the nonseparable blend modes consider all color components in combination, their
computation depends on the blending color space in which the components are interpreted.
They may be applied to all multiple-component color spaces that are allowed as blending
color spaces (see Section 7.2.3, “Blending Color Space”).</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.OverprintMode.html" title="printpdf::extgstate::OverprintMode enum">OverprintMode</a></div><div class="item-right docblock-short"><p><strong>(PDF 1.3)</strong> A code specifying whether a color component value of 0
in a <code>DeviceCMYK</code> color space should erase that component (<code>EraseUnderlying</code>) or
leave it unchanged (<code>KeepUnderlying</code>) when overprinting (see Section 4.5.6, “Over-
print Control”). Initial value: <code>EraseUnderlying</code></p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.RenderingIntent.html" title="printpdf::extgstate::RenderingIntent enum">RenderingIntent</a></div><div class="item-right docblock-short"><p>Although CIE-based color specifications are theoretically device-independent,
they are subject to practical limitations in the color reproduction capabilities of
the output device. Such limitations may sometimes require compromises to be
made among various properties of a color specification when rendering colors for
a given device. Specifying a rendering intent (PDF 1.1) allows a PDF file to set priorities
regarding which of these properties to preserve and which to sacrifice.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.SeperableBlendMode.html" title="printpdf::extgstate::SeperableBlendMode enum">SeperableBlendMode</a></div><div class="item-right docblock-short"><p>PDF Reference 1.7, Page 520, Table 7.2
Blending modes for objects
In the following reference, each function gets one new color (the thing to paint on top)
and an old color (the color that was already present before the object gets painted)</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.SoftMaskFunction.html" title="printpdf::extgstate::SoftMaskFunction enum">SoftMaskFunction</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.SpotFunction.html" title="printpdf::extgstate::SpotFunction enum">SpotFunction</a></div><div class="item-right docblock-short"><p>Spot functions, Table 6.1, Page 489 in Pdf Reference v1.7
The code is pseudo code, returning the grey component at (x, y).</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.TransferExtraFunction.html" title="printpdf::extgstate::TransferExtraFunction enum">TransferExtraFunction</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.TransferFunction.html" title="printpdf::extgstate::TransferFunction enum">TransferFunction</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.UnderColorRemovalExtraFunction.html" title="printpdf::extgstate::UnderColorRemovalExtraFunction enum">UnderColorRemovalExtraFunction</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.UnderColorRemovalFunction.html" title="printpdf::extgstate::UnderColorRemovalFunction enum">UnderColorRemovalFunction</a></div><div class="item-right docblock-short"><p>See <code>BlackGenerationFunction</code>, too. Undercolor removal reduces the amounts
of the cyan, magenta, and yellow components to compensate for the amount of
black that was added by black generation.</p>
</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="printpdf" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.63.0 (4b91a6ea7 2022-08-08)" ></div>
</body></html>